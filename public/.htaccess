<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Archivos físicos primero
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # /js/widget/{restaurantId}.js → public/js/widget.js?id={restaurantId}
  RewriteRule ^js/widget/([A-Za-z0-9_-]+)\.js$ js/widget.js?id=$1 [QSA,L]

  # HTML puro del widget
  RewriteRule ^widget/([A-Za-z0-9_-]+)$ widget/widget.php?id=$1 [QSA,L]

  # Menú público
  RewriteRule ^([A-Za-z0-9_-]+)$ menu.php?id=$1 [QSA,L]
</IfModule>