<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # ğŸš« 1. Redirige acceso directo a raÃ­z â†’ maxmenu.com
  RewriteCond %{REQUEST_URI} ^/?$
  RewriteRule ^.*$ https://maxmenu.com [R=302,L]

  # ğŸ” 2. Redirige a versiÃ³n en minÃºsculas si contiene mayÃºsculas
  RewriteCond %{REQUEST_URI} [A-Z]
  RewriteRule ^(.*)$ https://menu.maxmenu.com/${lc:$1} [R=301,L]

  # âœ… 3. Bloquea listing de directorios (opcional si no hay DirectoryIndex)
  Options -Indexes

  # ğŸ”’ 4. No reescribas si es archivo o carpeta real
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # ğŸŒ 5. Ruta amigable: /<restaurantId> â†’ /menu.php?id=<restaurantId>
  RewriteRule ^([A-Za-z0-9_.-]+)$ /menu.php?id=$1 [QSA,L]

  # ğŸŒ 6. Widget con versiÃ³n: /widget/<id>/<version> â†’ widget.php
  RewriteRule ^widget/([A-Za-z0-9_-]+)/([0-9]+)$ /widget/widget.php?id=$1&version=$2 [QSA,L]
</IfModule>

<IfModule mod_headers.c>
  <FilesMatch "\.js$">
    Header set Cache-Control "no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0"
    Header set Pragma "no-cache"
    Header set Expires "0"
  </FilesMatch>
</IfModule>