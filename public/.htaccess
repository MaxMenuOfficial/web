<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # 1Ô∏è‚É£ Archivos f√≠sicos primero
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # 2Ô∏è‚É£ JS loader cacheado 1 a√±o:
  #    /js/widget/<restaurantId>.js ‚Üí /js/widget.js?id=<restaurantId>
# üöÄ JS del widget (ruta limpia): /js/widget/{restaurantId}.js
  RewriteRule ^js/widget/([A-Za-z0-9_-]+)\.js$ /js/widget/widget.js?id=$1 [QSA,L]

  # 3Ô∏è‚É£ HTML puro del widget:
  #    /widget/<restaurantId> ‚Üí /widget/widget.php?id=<restaurantId>
  RewriteRule ^widget/([A-Za-z0-9_-]+)$ /widget/widget.php?id=$1 [QSA,L]

  # 4Ô∏è‚É£ Men√∫ p√∫blico ‚Äúamigable‚Äù:
  #    /<restaurantId> ‚Üí /menu.php?id=<restaurantId>
  RewriteRule ^([A-Za-z0-9_-]+)$ /menu.php?id=$1 [QSA,L]
</IfModule>

