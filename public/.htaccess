<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # 1️⃣ Archivos físicos & carpetas
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # 2️⃣ JS loader del widget (cacheado 1 año)
  RewriteRule ^js/widget\.js$ /js/widget.js [QSA,L]

  # 3️⃣ HTML dinámico del widget
  RewriteRule ^widget/([A-Za-z0-9_-]+)$ widget/widget.php?id=$1 [QSA,L]

  # 4️⃣ Menú público sin widget (opcional)
  RewriteRule ^([A-Za-z0-9_-]+)$ /menu.php?id=$1 [QSA,L]

</IfModule>